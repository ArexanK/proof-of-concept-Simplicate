{"version":3,"file":"success.view.js","sourceRoot":"src/","sources":["success.view.ts"],"names":[],"mappings":"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","sourcesContent":["import { html, svg, TemplateResult } from '@nutmeg/seed';\nimport { repeat } from 'lit-html/directives/repeat';\nimport { NodePackage } from './node-package';\nimport { InstallCommand, InstallSource, Pkg } from './pkg';\n\nexport class SuccessView {\n  constructor(private component: NodePackage, private pkg: Pkg, private selectedInstallCommand: InstallSource) {}\n\n  public get name(): string {\n    return this.pkg.name;\n  }\n\n  public get content(): TemplateResult {\n    return html`\n      <div id=\"description\" class=\"row\">\n        ${this.pkg.description}\n      </div>\n      ${this.keywords}\n      ${this.install}\n      ${this.footer}\n      <div id=\"toast-wrapper\">\n        <span id=\"toast\">Copied to clipboard</span>\n      </div>\n    `;\n  }\n\n  private selectInstallCommand(event: MouseEvent, command: InstallCommand): void {\n    event.preventDefault();\n    this.component.selectedTab = command.id;\n    this.component.render();\n  }\n\n  private copyInstallCommand(event: MouseEvent): void {\n    event.preventDefault();\n    (this.component.$('.command:not(.hidden)') as HTMLInputElement).select();\n    document.execCommand('copy');\n    this.component.$('#toast').classList.add('copied');\n    setTimeout(() => {\n      this.component.$('#toast').classList.remove('copied');\n    }, 2750);\n  }\n\n  private keyword(keyword: string): TemplateResult {\n    return html`\n        <a href=\"https://www.npmjs.com/browse/keyword/${keyword}\" target=\"_blank\" rel=\"noopener\" class=\"keyword\">#${keyword}</a>\n    `;\n  }\n\n  private get keywords(): TemplateResult {\n    return html`\n      <div id=\"keywords\" class=\"row ellipsis\">\n        ${repeat(this.pkg.keywords, keyword => keyword, (keyword, _index) => this.keyword(keyword))}\n      </div>\n    `;\n  }\n\n  private get types(): TemplateResult {\n    return html`\n      <span class=\"item\" title=\"${this.pkg.types}\">Includes types</span>\n    `;\n  }\n\n  private installTab(command: InstallCommand): TemplateResult {\n    const classes = `item tab ${this.selectedInstallCommand === command.id ? 'selected' : ''}`;\n    return html`\n      <a class=\"${classes}\" href=\"#\" @click=${(event: MouseEvent) => this.selectInstallCommand(event, command)}>\n        <label for=\"${command.id}\">\n          ${command.id}\n        </label>\n      </a>\n    `;\n  }\n\n  private installCommand(command: InstallCommand): TemplateResult {\n    return html`\n      <input id=\"${command.id}\" class=\"command fixed-width ellipsis item ${this.selectedInstallCommand !== command.id ? 'hidden' : ''}\" readonly value=\"${command.command}\">\n    `;\n  }\n\n  private get install(): TemplateResult {\n    return html`\n      <div id=\"install\" class=\"row\">\n        <div id=\"tabs\">\n          ${repeat(this.pkg.installCommands(this.component.global), command => command.id, (command, _index) => this.installTab(command))}\n        </div>\n        <div id=\"commands\" class=\"row-horizontal\">\n          ${repeat(this.pkg.installCommands(this.component.global), command => command.id, (command, _index) => this.installCommand(command))}\n          <div class=\"item\">\n            <a id=\"copy\" href=\"#\" title=\"Copy command\" @click=${(event: MouseEvent) => this.copyInstallCommand(event)}>${this.copy}</a>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  private get footer(): TemplateResult {\n    return html`\n      <div id=\"footer\" class=\"row row-horizontal\">\n        <span class=\"item\">\n          v${this.pkg.version}\n        </span>\n        ${this.pkg.types && this.types}\n        <span class=\"item\">\n          ${this.pkg.license}\n        </span>\n      </div>\n    `;\n  }\n\n  private get copy(): TemplateResult {\n    return svg`\n      <svg fill=\"#000000\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n        <path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\"/>\n      </svg>\n    `;\n  }\n}\n"]}